{"remainingRequest":"/Users/ali/Documents/jobtests/odtest/node_modules/babel-loader/lib/index.js!/Users/ali/Documents/jobtests/odtest/node_modules/eslint-loader/index.js??ref--13-0!/Users/ali/Documents/jobtests/odtest/src/searchApi.js","dependencies":[{"path":"/Users/ali/Documents/jobtests/odtest/src/searchApi.js","mtime":1622742400900},{"path":"/Users/ali/Documents/jobtests/odtest/node_modules/cache-loader/dist/cjs.js","mtime":1607613929901},{"path":"/Users/ali/Documents/jobtests/odtest/node_modules/babel-loader/lib/index.js","mtime":1607613929899},{"path":"/Users/ali/Documents/jobtests/odtest/node_modules/eslint-loader/index.js","mtime":1607613930486}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYWxpL0RvY3VtZW50cy9qb2J0ZXN0cy9vZHRlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW4KZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VhcmNoRmlsdGVyKGxpc3QsIGtleSwgc29ydGVkT24sIHNvcnRlZE9mZiwgb3BlbiwgY2xvc2UsIHJlZ0FjdGl2ZSwgcmVnTm90QWN0aXZlKSB7CiAgdmFyIHNlYXJjaCA9IGtleTsKCiAgdmFyIGxpc3RBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkobGlzdCk7IC8vINCy0YvQstC+0LQg0YHQv9C40YHQutCwINC/0YDQuCDQv9GD0YHRgtC+0Lwg0LfQsNC/0YDQvtGB0LUg0LIg0L/QvtC40YHQutC+0LLQuNC60LUKCgogIGlmICghc2VhcmNoLmxlbmd0aCkgewogICAgaWYgKHNvcnRlZE9uICYmIG9wZW4pIHsKICAgICAgcmV0dXJuIGxpc3RBcnIuc29ydChmdW5jdGlvbiAocHJldiwgbmV4dCkgewogICAgICAgIHJldHVybiBwcmV2LnRpdGxlLnRvTG93ZXJDYXNlKCkgPiBuZXh0LnRpdGxlLnRvTG93ZXJDYXNlKCkgPyAxIDogLTE7CiAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYi5tYWluIC0gYS5tYWluOwogICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS50aXRsZS5pbmRleE9mKHNlYXJjaCkgPiAtMTsKICAgICAgfSk7CiAgICB9CgogICAgaWYgKHNvcnRlZE9mZiAmJiBvcGVuKSB7CiAgICAgIHJldHVybiBsaXN0QXJyLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYi5tYWluIC0gYS5tYWluOwogICAgICB9KTsKICAgIH0KCiAgICBpZiAoc29ydGVkT24gJiYgY2xvc2UpIHsKICAgICAgcmV0dXJuIGxpc3RBcnIuc29ydChmdW5jdGlvbiAocHJldiwgbmV4dCkgewogICAgICAgIHJldHVybiBwcmV2LnRpdGxlLnRvTG93ZXJDYXNlKCkgPiBuZXh0LnRpdGxlLnRvTG93ZXJDYXNlKCkgPyAxIDogLTE7CiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnRpdGxlLmluZGV4T2Yoc2VhcmNoKSA+IC0xOwogICAgICB9KTsKICAgIH0KCiAgICBpZiAoc29ydGVkT2ZmICYmIGNsb3NlKSB7CiAgICAgIHJldHVybiBsaXN0QXJyOwogICAgfQogIH0gLy8g0L7QsdGK0LXQtNC40L3QtdC90LjQtSDQv9C+0LjRgdC60LAg0Lgg0YHQvtGA0YLQuNGA0L7QstC60LgKCgogIGlmIChvcGVuIHx8IGNsb3NlKSB7CiAgICBpZiAocmVnQWN0aXZlICYmIHNvcnRlZE9uKSB7CiAgICAgIHJldHVybiBsaXN0QXJyLnNvcnQoZnVuY3Rpb24gKHByZXYsIG5leHQpIHsKICAgICAgICByZXR1cm4gcHJldi50aXRsZS50b0xvd2VyQ2FzZSgpID4gbmV4dC50aXRsZS50b0xvd2VyQ2FzZSgpID8gMSA6IC0xOwogICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS50aXRsZS5pbmRleE9mKHNlYXJjaCkgPiAtMTsKICAgICAgfSk7CiAgICB9CgogICAgaWYgKHJlZ0FjdGl2ZSAmJiBzb3J0ZWRPZmYpIHsKICAgICAgcmV0dXJuIGxpc3RBcnIuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udGl0bGUuaW5kZXhPZihzZWFyY2gpID4gLTE7CiAgICAgIH0pOwogICAgfQoKICAgIGlmIChyZWdOb3RBY3RpdmUgJiYgc29ydGVkT24pIHsKICAgICAgcmV0dXJuIGxpc3RBcnIuc29ydChmdW5jdGlvbiAocHJldiwgbmV4dCkgewogICAgICAgIHJldHVybiBwcmV2LnRpdGxlLnRvTG93ZXJDYXNlKCkgPiBuZXh0LnRpdGxlLnRvTG93ZXJDYXNlKCkgPyAxIDogLTE7CiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnRpdGxlLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihzZWFyY2gudG9VcHBlckNhc2UoKSkgPiAtMTsKICAgICAgfSk7CiAgICB9CiAgfSAvLyDQstGL0LLQvtC0INGB0L/QuNGB0LrQsCDQv9C+INC30L3QsNGH0LXQvdC40Y4g0LIg0L/QvtC40YHQutC1CgoKICByZXR1cm4gbGlzdEFyci5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBpdGVtLnRpdGxlLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihzZWFyY2gudG9VcHBlckNhc2UoKSkgPiAtMTsKICB9KTsKfQ=="},{"version":3,"sources":["/Users/ali/Documents/jobtests/odtest/src/searchApi.js"],"names":["searchFilter","list","key","sortedOn","sortedOff","open","close","regActive","regNotActive","search","listArr","length","sort","prev","next","title","toLowerCase","a","b","main","filter","item","indexOf","toUpperCase"],"mappings":"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","sourcesContent":["// eslint-disable-next-line max-len\nexport default function searchFilter(list, key, sortedOn, sortedOff, open, close, regActive, regNotActive) {\n  const search = key;\n  const listArr = [...list];\n  // вывод списка при пустом запросе в поисковике\n  if (!search.length) {\n    if (sortedOn && open) {\n      return listArr\n        .sort((prev, next) => (prev.title.toLowerCase()\n        > next.title.toLowerCase() ? 1 : -1))\n        .sort((a, b) => b.main - a.main)\n        .filter((item) => item.title.indexOf(search) > -1);\n    }\n    if (sortedOff && open) {\n      return listArr.sort((a, b) => b.main - a.main);\n    }\n    if (sortedOn && close) {\n      return listArr.sort((prev, next) => (prev.title.toLowerCase()\n      > next.title.toLowerCase() ? 1 : -1))\n        .filter((item) => item.title.indexOf(search) > -1);\n    }\n    if (sortedOff && close) {\n      return listArr;\n    }\n  }\n  // объединение поиска и сортировки\n  if (open || close) {\n    if (regActive && sortedOn) {\n      return listArr.sort((prev, next) => (prev.title.toLowerCase()\n      > next.title.toLowerCase() ? 1 : -1))\n        .filter((item) => item.title.indexOf(search) > -1);\n    }\n    if (regActive && sortedOff) {\n      return listArr.filter((item) => item.title.indexOf(search) > -1);\n    }\n    if (regNotActive && sortedOn) {\n      return listArr\n        .sort((prev, next) => (prev.title.toLowerCase()\n        > next.title.toLowerCase() ? 1 : -1))\n        .filter((item) => item.title.toUpperCase().indexOf(search.toUpperCase()) > -1);\n    }\n  }\n  // вывод списка по значению в поиске\n  return listArr\n    .filter((item) => item.title.toUpperCase().indexOf(search.toUpperCase()) > -1);\n}\n"]}]}