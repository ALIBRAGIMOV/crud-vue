{"remainingRequest":"/Users/ali/Documents/jobtests/odtest/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ali/Documents/jobtests/odtest/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/ali/Documents/jobtests/odtest/src/App.vue","mtime":1622742264665},{"path":"/Users/ali/Documents/jobtests/odtest/node_modules/css-loader/dist/cjs.js","mtime":1607613931256},{"path":"/Users/ali/Documents/jobtests/odtest/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1621598313480},{"path":"/Users/ali/Documents/jobtests/odtest/node_modules/postcss-loader/src/index.js","mtime":1596477921012},{"path":"/Users/ali/Documents/jobtests/odtest/node_modules/cache-loader/dist/cjs.js","mtime":1607613929901},{"path":"/Users/ali/Documents/jobtests/odtest/node_modules/vue-loader/lib/index.js","mtime":1621598313480}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2FwcCB7CiAgZm9udC1mYW1pbHk6IEF2ZW5pciwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsKICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBjb2xvcjogIzJjM2U1MDsKICBtYXJnaW4tdG9wOiA2MHB4Owp9CgoucmVnSXNBY3RpdmUgewogIGJhY2tncm91bmQ6ICNjM2YzYmE7Cn0KCi5yZWdJc05vdEFjdGl2ZSB7CiAgYmFja2dyb3VuZDogd2hpdGU7Cn0KCi5saXN0Q29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBiYXNlbGluZTsKICBmbGV4LWZsb3c6IGNvbHVtbjsKICB3aWR0aDogMzYwcHg7CiAgYm9yZGVyOiBibGFjayBzb2xpZCAxLjVweDsKICBib3JkZXItcmFkaXVzOiAxMnB4OwogIHBhZGRpbmc6IDAuM3JlbTsKfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\"\n       style=\"display: flex;\n       justify-content: center;\">\n    <div class=\"listContainer\">\n        <CreateBrand :checker=\"checkMainProperty\"/>\n      <div>\n        <SearchBrand/>\n      </div>\n      <button @click=\"regHandle\"\n              style=\"margin: 10px 0px 10px 0px\"\n              v-bind:class=\"{ 'regIsActive': regActive, 'regIsNotActive': regNotActive }\">\n        <span style=\"font-size: 1rem\">Aa</span>\n      </button>\n      <div>\n        <span>\n          ({{ filtered.length }})\n        </span>\n        <button @click=\"listOpen\" v-if=\"open\"> open</button>\n        <button @click=\"listClose\" v-if=\"close\"> close</button>\n      </div>\n      <div>\n        <button @click=\"sortHandle\" v-show=\"sortedOff\">🌑 A-z</button>\n        <button @click=\"sortHandle\" v-show=\"sortedOn\">🌕 A-z</button>\n      </div>\n      <div style=\"display: flex;\n         justify-content: center\"\n           v-for=\"item in filtered.slice(0, this.openList)\"\n           :key=\"item.id\">\n        <div v-if=\"editItem === item._id\">\n          <input type=\"text\" v-model=\"item.title\">\n          <select v-model=\"item.main\">\n            <option :value='true'>true</option>\n            <option :value='false'>false</option>\n          </select>\n        </div>\n        <div v-else>\n        <span>\n             --{{ item.title }}\n        </span>\n          <span>\n            (main: {{ item.main }})\n        </span>\n        </div>\n        <div v-if=\"editItem === item._id\">\n          <button @click=\"saveChanges(item)\">save</button>\n          <button @click=\"editItem = null\">cancel</button>\n        </div>\n        <div v-else>\n          <button @click=\"deleteBrand(item._id)\">\n            x\n          </button>\n          <button @click=\"changeItem(item._id)\" style=\"margin-left: 0.2rem\">\n            edit\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport CreateBrand from './components/createBrand.vue';\nimport SearchBrand from './components/searchBrand.vue';\nimport searchApi from './searchApi';\n\nexport default {\n  name: 'App',\n  components: { SearchBrand, CreateBrand },\n  computed: {\n    ...mapGetters({\n      listData: 'listData',\n      deleteId: 'DeleteId',\n      search: 'SearchKey',\n    }),\n    filtered() {\n      return searchApi(\n        this.listData,\n        this.search.searchKey,\n        this.sortedOn,\n        this.sortedOff,\n        this.open,\n        this.close,\n        this.regActive,\n        this.regNotActive,\n      );\n    },\n  },\n  data() {\n    return {\n      open: true,\n      close: false,\n      openList: 5,\n      itemShow: true,\n      changeItemShow: false,\n      editItem: null,\n      regActive: true,\n      regNotActive: false,\n      sortedOn: true,\n      sortedOff: false,\n    };\n  },\n  methods: {\n    listOpen() {\n      this.openList = this.filtered.length;\n      this.open = false;\n      this.close = true;\n      this.checkMainProperty();\n    },\n    listClose() {\n      this.openList = 5;\n      this.close = false;\n      this.open = true;\n      this.checkMainProperty();\n    },\n    // удаление элемента\n    async deleteBrand(id) {\n      await this.$store.dispatch('DELETE_BRAND', id);\n      // eslint-disable-next-line no-underscore-dangle\n      const index = this.filtered.findIndex((brand) => brand._id === id);\n      this.filtered.splice(index, 1);\n      await this.checkMainProperty();\n    },\n    // сохранение id изменяемого элемента\n    changeItem(id) {\n      this.editItem = id;\n    },\n    // сохранение изменений\n    saveChanges(item) {\n      this.$store.dispatch('PUT_UPDATE_BRAND', item);\n      this.editItem = null;\n    },\n    // проверка регистра\n    regHandle() {\n      if (this.regActive === true) {\n        this.regActive = false;\n        this.regNotActive = true;\n      } else {\n        this.regActive = true;\n        this.regNotActive = false;\n      }\n    },\n    // проверка значения main и установка длины списка\n    async checkMainProperty() {\n      const lengthMain = this.filtered.filter((item) => item.main === true).length;\n      if (lengthMain < 5 && lengthMain > 0) {\n        this.openList = lengthMain;\n      }\n    },\n    // обработчик сортировки\n    sortHandle() {\n      if (this.sortedOn === true) {\n        this.sortedOn = false;\n        this.sortedOff = true;\n      } else {\n        this.sortedOn = true;\n        this.sortedOff = false;\n      }\n    },\n  },\n  mounted() {\n    // загрузка данных\n    this.$store.dispatch('GET_ARRAY_DATA').then(() => {\n      this.checkMainProperty();\n    });\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.regIsActive {\n  background: #c3f3ba;\n}\n\n.regIsNotActive {\n  background: white;\n}\n\n.listContainer {\n  display: flex;\n  align-items: baseline;\n  flex-flow: column;\n  width: 360px;\n  border: black solid 1.5px;\n  border-radius: 12px;\n  padding: 0.3rem;\n}\n</style>\n"]}]}